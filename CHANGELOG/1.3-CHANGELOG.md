# v1.3 Changelog
```
release-notes --start-sha 066411e5d45ea58c954bc144b88f82f534355a63 --end-sha 2cb9ce2dbba7fe2a3674b3430dfc06b9754b22fc\
--branch main --org=kubernetes-sigs --repo=gateway-api --markdown-links=true --required-author=""\
--output=gateway-api/release-notes-v1.3.md
```
## Table of Contents

- [v1.3.0](#v130)
- [v1.3.0-rc1](#v130-rc1)

# v1.3.0

TBD

# v1.3.0-rc1

We expect that this release candidate is quite close to the final v1.3.0
release. However, subsequent breaking API changes are still possible.

This release candidate is suitable for implementors, but we do not recommend
shipping products based on a release candidate API due to the possibility of
incompatible changes prior to the final release. The following represents the
changes since v1.2.0:

## Changes by Kind

### Noteworthy Changes for Implementors
This section is intended to be a guide for API changes that might inspire or require implementation changes.
None of these API changes represent breaking changes (?).

#### OverlappingTLSConfig for Connection Coalescing
A new `OverlappingTLSConfig` condition has been added to Gateway Listeners to indicate situations where
Connection Coalescing could be problematic.  The Gateway specification for handling Hostname and SNI matching for HTTPS
requests has been clarified and now recommends that implementations return 421 HTTP code responses in certain cases.

- Implementation of GEP-3567 - TLS Updates for Connection Coalescing. ([#3630](https://github.com/kubernetes-sigs/gateway-api/pull/3630), [@robscott](https://github.com/robscott))
- Add GEP-3567: Gateway TLS Updates for HTTP/2 Connection Coalescing. ([#3572](https://github.com/kubernetes-sigs/gateway-api/pull/3630), [@robscott](https://github.com/robscott))

#### Move `BackendTLSPolicy` `SubjectAltNames` from Core to Extended
- The `SubjectAltNames` field of `BackendTLSPolicy` changed from Core to Extended feature. ([#3591](https://github.com/kubernetes-sigs/gateway-api/pull/3591), [@mlavacca](https://github.com/mlavacca))

#### `backendRef` filter must send traffic to the correct backends when weighted routing is configured
- A new conformance test was added to ensure `backendRef` filters don't affect weighted routing. ([#3604](https://github.com/kubernetes-sigs/gateway-api/pull/3604),[@dprotaso](https://github.com/dprotaso))

#### Clarify reasons for certain object status conditions
- Set proper reason for Gateway `parametersRef` `Accepted` condition when `parametersRef` is invalid. ([#3579](),[@mlavacca]())
- Improve GatewayClass `GatewayClassReasonInvalidParameters` reason description. ([#3553](https://github.com/kubernetes-sigs/gateway-api/pull/3553)[@mlavacca](https://github.com/mlavacca))

### BackendTLSPolicy
- CEL validation for target references in `BackendTLSPolicy`. ([#3496](https://github.com/kubernetes-sigs/gateway-api/pull/3496), [@snorwin](https://github.com/snorwin))
 
## Standard Channel Additions and Changes
The Standard channel is Gateway API's set of maximally-stable install files.
Only features with the best testing and support are added to the standard
channel. This channel should be considered GA or stable, and future changes will
be fully backwards compatible.

### Percentage-Based Request Mirroring ðŸŽ‰ (This section needs thorough review)
This feature enhances the existing [request mirroring feature](https://gateway-api.sigs.k8s.io/guides/http-request-mirroring/)
by allowing users to specify a percentage of requests to be mirrored in both `HTTPRoute` (and `GRPCRoute`?) objects.

This feature has graduated to Standard and is now considered GA or Stable.

This feature's name for conformance tests (and GatewayClass status reporting?) is
`HTTPRouteRequestPercentageMirror`(?).

This feature's status is **Extended** (?), meaning that it is _optional_ for
implementations to support. If you're using Experimental Channel, you can refer
to the `supportedFeatures` field in the `status` of any GatewayClass.

Relevant PRs:
- Promote percentage-based-request-mirroring GEP-3171 to standard ([#3638](https://github.com/kubernetes-sigs/gateway-api/pull/3638), [@LiorLieberman](https://github.com/LiorLieberman))
- Add conformance tests for percentage-based request mirroring ([#3508](https://github.com/kubernetes-sigs/gateway-api/pull/3508),[@LiorLieberman](https://github.com/LiorLieberman))

## Experimental Channel Additions and Changes

The Experimental Channel is Gateway API's channel for testing out changes and
gaining confidence with them before allowing them to go to Standard.

**This channel may include features that are changed or removed later!**

### CORS (Cross Origin Resource Sharing) Filter
[GEP-1767](https://gateway-api.sigs.k8s.io/geps/gep-1767/) describes how to add
configuration of CORS filters on HTTPRoute objects, and in this release, this change
has moved to Experimental.

Please see the GEP reference document or the API reference for the details.

This feature has graduated to Experimental and should now be used for testing
and verification purposes only. Experimental features may be changed or removed
in a future version.

This feature does not currently have a feature name defined.

This feature's status is **Extended**, meaning that it is _optional_ for
implementations to support.

As there is no feature name or conformance testing available for this feature
yet, please see your implementation's documentation to see if it is supported.

Relevant PRs:
- Implementing CORS Filter for `HTTPRoute` ([#3637](https://github.com/kubernetes-sigs/gateway-api/pull/3637), [@robscott](https://github.com/robscott))
- Change `HTTPRouteFilter.CORS.AllowCredentials` to expect a boolean and not a string ([#3656](https://github.com/kubernetes-sigs/gateway-api/pull/3656), [@EyalPazz](https://github.com/EyalPazz))
- Add CORS to `HTTPRouteFilterType` ([#3668](https://github.com/kubernetes-sigs/gateway-api/pull/3668), [@EyalPazz](https://github.com/EyalPazz))

### ListenerSets (Standard Mechanism to Merge Gateways)
[GEP-1713](https://gateway-api.sigs.k8s.io/geps/gep-1713/) defines a new mechanism to merge listeners into a single
Gateway, and in this release, this change has moved to Experimental.

Please see the GEP reference document or the API reference for the details.

This feature has graduated to Experimental and should now be used for testing
and verification purposes only. Experimental features may be changed or removed
in a future version.

This feature does not currently have a feature name defined.

This feature's status is **Extended**, meaning that it is _optional_ for
implementations to support.

As there is no feature name or conformance testing available for this feature
yet, please see your implementation's documentation to see if it is supported.

Relevant PRs:
- Clarified what it means for Gateway Listeners to be distinct ([#3477](https://github.com/kubernetes-sigs/gateway-api/pull/3477), [@youngnick](https://github.com/youngnick))
- GEP-1713: Standard Mechanism to Merge Multiple Gateways ([#3213](https://github.com/kubernetes-sigs/gateway-api/pull/3213)), [@dprotaso](https://github.com/dprotaso))
- Update GEP-1713 - Support attaching `ListenerSet`s across namespaces ([#3632](https://github.com/kubernetes-sigs/gateway-api/pull/3632), [@dprotaso](https://github.com/dprotaso))
- GEP-1713: Standard Mechanism to Merge Multiple Gateways - move GEP Link to Experimental ([#3664](https://github.com/kubernetes-sigs/gateway-api/pull/3664)), [@gcs278](https://github.com/gcs278))
- Refactor codegen scripts to make it easier to generate two clients ([#3589](https://github.com/kubernetes-sigs/gateway-api/pull/3589),[@dprotaso](https://github.com/dprotaso))
- Add ListenerSet GEP-1713 to the website ([#3587](https://github.com/kubernetes-sigs/gateway-api/pull/3587),[@dprotaso](https://github.com/dprotaso))
- Introduces `ListenerSet` API & Generate Clients (in the group gateway.networking.k8s-x.io) ([#3588](https://github.com/kubernetes-sigs/gateway-api/pull/3588), [@dprotaso](https://github.com/dprotaso))

### Retry Budgets
[GEP-3388](https://gateway-api.sigs.k8s.io/geps/gep-3388/) 
specifies the configuration of a "retry budget" across all endpoints of a destination service in order to prevent
additional client-side retries after reaching a configured threshold. In this release, this change has moved to
Experimental.

Please see the GEP reference document or the API reference for the details.

This feature has graduated to Experimental and should now be used for testing
and verification purposes only. Experimental features may be changed or removed
in a future version.

This feature does not currently have a feature name defined.

This feature's status is **Extended**, meaning that it is _optional_ for
implementations to support.

As there is no feature name or conformance testing available for this feature
yet, please see your implementation's documentation to see if it is supported.

Relevant PRs:
- Adds a new `BackendTrafficPolicy` with ability to configure budgeted retries ([#3607](https://github.com/kubernetes-sigs/gateway-api/pull/3607), [@ericdbishop](https://github.com/ericdbishop))
- Add GEP-3388 HTTP Retry Budget ([#3488](),[@ericdbishop](https://github.com/ericdbishop))


## GEPs
- Initial draft of Auth GEP-1494 ([#3500](https://github.com/kubernetes-sigs/gateway-api/pull/3500),[@youngnick](https://github.com/youngnick))

## Documentation
- For the Gateway infrastructure stanza, the `InvalidParameters` reason SHOULD be used with the `Accepted` condition in case the object referenced does not exist, is of an unsupported kind, or is malformed. ([#3579](https://github.com/kubernetes-sigs/gateway-api/pull/3579), [@mlavacca](https://github.com/mlavacca))
- Specify default type for `sessionPersistence.cookieConfig.lifetimeType` ([#3540](https://github.com/kubernetes-sigs/gateway-api/pull/3540), [@arkodg](https://github.com/arkodg))
- Updates docs for the Kuadrant implementation ([#3598](https://github.com/kubernetes-sigs/gateway-api/pull/3598), [@jasonmadigan](https://github.com/jasonmadigan))
- Updates comparison of Gateway API and API Gateway to use the CNCF's definition of the latter ([#3653](https://github.com/kubernetes-sigs/gateway-api/pull/3653), [@craigbox](https://github.com/craigbox))
- Fix 'mkdocs serve' endless build loop ([#3662](https://github.com/kubernetes-sigs/gateway-api/pull/3662), [@blake](https://github.com/blake))
- Fix several MkDocs info and warning messages ([#3663](https://github.com/kubernetes-sigs/gateway-api/pull/3663),[@blake](https://github.com/blake))
- Fix broken links on site ([#3655](https://github.com/kubernetes-sigs/gateway-api/pull/3655),[@blake](https://github.com/blake))
- Fix spelling and make links accessible ([#3615](https://github.com/kubernetes-sigs/gateway-api/pull/3615),[@jsoref](https://github.com/jsoref))
- Use relative links to site pages ([#3657](https://github.com/kubernetes-sigs/gateway-api/pull/3657),[@blake](https://github.com/blake))
- GRPCRoute name is not set ([#3639](https://github.com/kubernetes-sigs/gateway-api/pull/3639),[@Xunhuo](https://github.com/Xunzhuo))
- Update GEPs in navbar ([#3634](https://github.com/kubernetes-sigs/gateway-api/pull/3634),[@blake](https://github.com/blake))
- Fix broken gep status link ([#3626](https://github.com/kubernetes-sigs/gateway-api/pull/3626),[@zirain](https://github.com/zirain))
- Remove experimental callout on GRPCRoute guide ([#3595](https://github.com/kubernetes-sigs/gateway-api/pull/3595),[@blake](https://github.com/blake))
- Fix GRPCRoute structure definition error in the document ([#3344](https://github.com/kubernetes-sigs/gateway-api/pull/3344),[@0xff-dev](https://github.com/0xff-dev))
- Fix spelling ([#3400](https://github.com/kubernetes-sigs/gateway-api/pull/3400),[@jsoref](https://github.com/jsoref))
- Add Gateway For Mesh section to the GEP template ([#3577](https://github.com/kubernetes-sigs/gateway-api/pull/3577),[@LiorLieberman](https://github.com/LiorLieberman))
- Fix group description in `LocalObjectReference` (empty string infers core API group) ([#3597](https://github.com/kubernetes-sigs/gateway-api/pull/3597),[@EyalPazz](https://github.com/EyalPazz))
- Remove "experimental" language from gamma implementations ([#3580](https://github.com/kubernetes-sigs/gateway-api/pull/3580),[@LiorLieberman](https://github.com/LiorLieberman))
- Clarify frontend/backend relationship in GEP-91 ([#3571](https://github.com/kubernetes-sigs/gateway-api/pull/3571),[@htuch](https://github.com/htuch))
- Fix spelling ([#3565](https://github.com/kubernetes-sigs/gateway-api/pull/3565/files),[@Vaniog](https://github.com/Vaniog))
- Update httproute.md to add link for `SectionName` ([#3485]()https://github.com/kubernetes-sigs/gateway-api/pull/3485,[@fatsheep9146](https://github.com/fatsheep9146))

## Cleanup
- Remove mkdocs-material-extensions from requirements.txt ([#3666](https://github.com/kubernetes-sigs/gateway-api/pull/3666), [@gcs278](https://github.com/gcs278))
- Remove extra newlines and format descriptions of items for code generation ([#3574](https://github.com/kubernetes-sigs/gateway-api/pull/3574),[@snorwin](https://github.com/snorwin))
- Fix mkdocs so at least 3 conformance reports are uploaded before update ([#3549](https://github.com/kubernetes-sigs/gateway-api/pull/3549),[@xtineskim](https://github.com/xtineskim))

## Bug or Regression
- Sort api versions when updating clientset during code generation ([https://github.com/kubernetes-sigs/gateway-api/pull/3652](https://github.com/kubernetes-sigs/gateway-api/pull/3652),[@bentheelder](https://github.com/BenTheElder))
- Retry failed calls when waiting for namespace ready in tests ([#3627](https://github.com/kubernetes-sigs/gateway-api/pull/3627),[@aojea](https://github.com/aojea))
- Some tests are not formatted properly ([#3610](https://github.com/kubernetes-sigs/gateway-api/pull/3610),[@EyalPazz](https://github.com/EyalPazz))

## Dependencies

### Added
- github.com/GoogleCloudPlatform/opentelemetry-operations-go/detectors/gcp: [v1.25.0](https://github.com/GoogleCloudPlatform/opentelemetry-operations-go/tree/detectors/gcp/v1.25.0)
- github.com/envoyproxy/go-control-plane/envoy: [v1.32.4](https://github.com/envoyproxy/go-control-plane/tree/envoy/v1.32.4)
- github.com/envoyproxy/go-control-plane/ratelimit: [v0.1.0](https://github.com/envoyproxy/go-control-plane/tree/ratelimit/v0.1.0)
- go.opentelemetry.io/auto/sdk: v1.1.0
- go.opentelemetry.io/contrib/detectors/gcp: v1.34.0
- go.opentelemetry.io/otel/sdk/metric: v1.34.0

### Changed
- cel.dev/expr: v0.16.0 â†’ v0.19.1
- cloud.google.com/go/compute/metadata: v0.5.0 â†’ v0.6.0
- github.com/cncf/xds/go: [024c85f â†’ cff3c89](https://github.com/cncf/xds/compare/024c85f...cff3c89)
- github.com/envoyproxy/go-control-plane: [v0.13.0 â†’ v0.13.4](https://github.com/envoyproxy/go-control-plane/compare/v0.13.0...v0.13.4)
- github.com/envoyproxy/protoc-gen-validate: [v1.1.0 â†’ v1.2.1](https://github.com/envoyproxy/protoc-gen-validate/compare/v1.1.0...v1.2.1)
- github.com/golang/glog: [v1.2.2 â†’ v1.2.4](https://github.com/golang/glog/compare/v1.2.2...v1.2.4)
- github.com/miekg/dns: [v1.1.62 â†’ v1.1.63](https://github.com/miekg/dns/compare/v1.1.62...v1.1.63)
- go.opentelemetry.io/otel/metric: v1.28.0 â†’ v1.34.0
- go.opentelemetry.io/otel/sdk: v1.28.0 â†’ v1.34.0
- go.opentelemetry.io/otel/trace: v1.28.0 â†’ v1.34.0
- go.opentelemetry.io/otel: v1.28.0 â†’ v1.34.0
- golang.org/x/crypto: v0.29.0 â†’ v0.33.0
- golang.org/x/net: v0.31.0 â†’ v0.35.0
- golang.org/x/oauth2: v0.22.0 â†’ v0.25.0
- golang.org/x/sync: v0.9.0 â†’ v0.11.0
- golang.org/x/sys: v0.27.0 â†’ v0.30.0
- golang.org/x/term: v0.26.0 â†’ v0.29.0
- golang.org/x/text: v0.20.0 â†’ v0.22.0
- google.golang.org/genproto/googleapis/api: ddb44da â†’ 5f5ef82
- google.golang.org/genproto/googleapis/rpc: ddb44da â†’ 1a7da9e
- google.golang.org/grpc: v1.67.1 â†’ v1.71.0
- google.golang.org/protobuf: v1.35.2 â†’ v1.36.5
- sigs.k8s.io/controller-runtime: v0.19.1 â†’ v0.19.4
- sigs.k8s.io/structured-merge-diff/v4: v4.4.3 â†’ v4.5.0

### Removed
- github.com/census-instrumentation/opencensus-proto: [v0.4.1](https://github.com/census-instrumentation/opencensus-proto/tree/v0.4.1)
